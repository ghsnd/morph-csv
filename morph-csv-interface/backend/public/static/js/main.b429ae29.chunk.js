(this.webpackJsonpinterface=this.webpackJsonpinterface||[]).push([[0],{183:function(e,t,a){e.exports=a.p+"static/media/logo.45e5d598.png"},209:function(e,t,a){e.exports=a(377)},214:function(e,t,a){},215:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(30),c=a.n(r),o=(a(214),a(215),a(216),a(199)),u=a(35),i=a(135),s=a.n(i),m=a(168),p=a(41),f=a(387),d=a(388),E=a(384),b=a(379),h=a(380),g=a(197),y=a(65),O=a(136),j=a.n(O),v="http://localhost:5000/runmorphcsv";function S(e){return new Promise((function(t,a){j()({method:"post",responseType:"arraybuffer",headers:{accept:"binary/octet-stream","Content-Type":"multipart/form-data","Access-Control-Allow-Headers":"*"},data:e,url:v}).then((function(e){t(e.data)})).catch((function(e){return a(e)}))}))}function w(e){return new Promise((function(t,a){j()({method:"post",headers:{accept:"binary/octet-stream","Content-Type":"multipart/form-data","Access-Control-Allow-Headers":"*"},data:e,url:v}).then((function(e){t(e.data)})).catch((function(e){return a(e)}))}))}var C=a(383),k=a(386),L=a(385),F=a(381),R=E.a.Text,x=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(p.a)(o,2),i=u[0],s=u[1],m=Object(n.useState)(!1),f=Object(p.a)(m,2),d=f[0],E=f[1],g=Object(n.useState)(null),O=Object(p.a)(g,2),j=O[0],v=O[1],S=Object(n.useState)(null),w=Object(p.a)(S,2),x=w[0],I=w[1],M=Object(n.useState)(null),q=Object(p.a)(M,2),A=q[0],N=q[1],D=Object(n.useState)(!1),T=Object(p.a)(D,2),V=(T[0],T[1],Object(n.useState)(!1)),B=Object(p.a)(V,2),P=(B[0],B[1],Object(n.useState)(!1)),Q=Object(p.a)(P,2),U=Q[0],W=Q[1],z=Object(n.useState)({}),J=Object(p.a)(z,2);J[0],J[1];var H=function(t){var a,n=new FormData;r?n.append("csvwFile",x):n.append("csvwLink",t.csvwLink),i?n.append("yarrrmlFile",A):n.append("yarrrmlLink",t.yarrrmlLink),d?n.append("queryFile",j):void 0!==t.queryLink&&n.append("queryLink",t.queryLink),a=n,e.parentCallback(a,U)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{name:"basic",onFinish:function(e){H(e)}},l.a.createElement(b.a,{gutter:[16,16]},l.a.createElement(h.a,null,l.a.createElement(R,null,"Do you prefer upload a CSVW file?")),l.a.createElement(h.a,null,l.a.createElement(k.a,{value:r,onChange:function(){c(!r)}}))),r?l.a.createElement(C.a.Item,{label:x?"File ".concat(x.name," selected"):" Choose  File"},l.a.createElement("label",{className:"custom-file-upload"},l.a.createElement(L.a,{className:"file-input",type:"file",name:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&I(e.target.files[0])}}))):l.a.createElement(C.a.Item,{label:"CSVW Url",name:"csvwLink"},l.a.createElement(L.a,{value:""})),l.a.createElement(b.a,{gutter:[16,16]},l.a.createElement(h.a,null,l.a.createElement(R,null,"Do you prefer upload a YARRRML+FnO file?")),l.a.createElement(h.a,null,l.a.createElement(k.a,{value:i,onChange:function(){s(!i)}}))),i?l.a.createElement(C.a.Item,{label:A?"File ".concat(A.name," selected"):" Choose File"},l.a.createElement("label",{className:"custom-file-upload"},l.a.createElement(L.a,{className:"file-input",type:"file",name:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&N(e.target.files[0])}}))):l.a.createElement(C.a.Item,{label:"YARRRML+FnO Url",name:"yarrrmlLink",value:""},l.a.createElement(L.a,null)),l.a.createElement(b.a,{gutter:[16,16]},l.a.createElement(h.a,null,l.a.createElement(R,null,"Do you prefer upload a Query file?")),l.a.createElement(h.a,null,l.a.createElement(k.a,{value:d,onChange:function(){E(!d)}}))),d?l.a.createElement(C.a.Item,{label:j?"File ".concat(j.name," selected"):" Choose  File"},l.a.createElement("label",{className:"custom-file-upload"},l.a.createElement(L.a,{className:"file-input",type:"file",name:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&v(e.target.files[0])}}))):l.a.createElement(C.a.Item,{label:"Query Url",name:"queryLink"},l.a.createElement(L.a,null)),l.a.createElement(b.a,{gutter:[16,16]},l.a.createElement(h.a,null,l.a.createElement(R,null,"Run Morph-RDB?")),l.a.createElement(h.a,null,l.a.createElement(k.a,{onChange:function(){W(!U)}})),l.a.createElement(h.a,null,l.a.createElement(R,{type:"secondary"}," This will return a table with the sparql result"))),l.a.createElement(C.a.Item,null,l.a.createElement(y.a,{type:"primary",htmlType:"submit"},"Submit"))),l.a.createElement(F.a,null))};function I(e){return l.a.createElement(b.a,{justify:"center"},l.a.createElement(h.a,{lg:12,md:20,xs:22},e.children))}var M=a(183),q=a.n(M),A=a(184),N=a(185),D=a(206),T=a(202),V=a(382),B=a(186),P=a.n(B),Q=function(e){Object(D.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({visible:!0})},n.handleOk=function(e){console.log(e),n.setState({visible:!1})},n.handleCancel=function(e){console.log(e),n.setState({visible:!1})},n.state={visible:!0},n}return Object(N.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{level:3},"Sparql Result:"),l.a.createElement(V.a,{dataSource:this.props.data,bordered:!0,columns:this.props.head}))}}]),a}(l.a.Component),U=E.a.Title,W=E.a.Paragraph,z=l.a.createElement(f.a,{style:{fontSize:48},spin:!0});function J(){var e=Object(n.useState)({}),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(p.a)(c,2),u=o[0],i=o[1],f=Object(n.useState)(!1),E=Object(p.a)(f,2),O=E[0],j=E[1],v=Object(n.useState)(null),C=Object(p.a)(v,2),k=C[0],L=C[1],F=function(e){var t=document.createElement("a"),a=new Blob([e],{type:"application/zip"});t.href=URL.createObjectURL(a);t.download="results.zip",document.body.appendChild(t),t.click()},R=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,L(null),r({}),i(!0),!a){e.next=13;break}return t.append("runMorphRdb",a),e.next=8,w(t);case 8:n=e.sent,console.log(n),r(n),e.next=19;break;case 13:return e.next=15,S(t);case 15:n=e.sent,F(t),L(n),j(!0);case 19:i(!1);case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement(I,null,l.a.createElement(b.a,{justify:"space-between",gutter:[16,16],align:"middle"},l.a.createElement(h.a,null,l.a.createElement("img",{src:q.a,className:"imgFluid"}))),l.a.createElement(b.a,{gutter:[16,16]},l.a.createElement(h.a,{span:15},l.a.createElement(U,{level:3},"Morph-CSV Interface"),l.a.createElement(W,{className:"textJustify"},"Morph-CSV is an open source tool for querying tabular data sources using SPARQL. It exploits the information from the query, RML+FnO mappings and CSVW metadata to enhance the performance and completeness of traditional OBDA systems (SPARQL-to-SQL translators)."))),u?l.a.createElement(g.a,{indicator:z}):l.a.createElement(x,{parentCallback:R}),Object.keys(a).length>0?l.a.createElement(Q,{data:a.data,head:a.head}):O?l.a.createElement(y.a,{onClick:function(){return F(k)}}," Download Morph-CSV result ",l.a.createElement(d.a,null)," "):null)}var H=function(){return l.a.createElement(o.a,null,l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/",component:J})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[209,1,2]]]);
//# sourceMappingURL=main.b429ae29.chunk.js.map